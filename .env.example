# Since .env is gitignored, you can use .env.example to build a new `.env` file when you clone the repo.
# Keep this file up-to-date when you add new variables to `.env`.

# This file will be committed to version control, so make sure not to have any secrets in it.
# If you are cloning this repo, create a copy of this file named `.env` and populate it with your secrets.

# When adding additional env variables, the schema in /env/schema.mjs should be updated accordingly

NODE_ENV=development

# Set this to true during CI checks
SKIP_ENV_VALIDATION=true

# Docker Compose - Enable Bake for better build performance
COMPOSE_BAKE=true

# Prisma
# Database
# IMPORTANT: When running inside Docker, use the container name "postgres" instead of "localhost"
# For docker-compose (app running in container):
DATABASE_URL=postgresql://menufic:menufic_password@postgres:5432/menufic_db
# For local development (app running on host, connecting to Docker DB):
# DATABASE_URL=postgresql://menufic:menufic_password@localhost:5433/menufic_db

# Optional: PostgreSQL configuration (used by docker-compose)
# Port 5433 is used by default to avoid conflicts with existing PostgreSQL installations
POSTGRES_USER=menufic
POSTGRES_PASSWORD=menufic_password
POSTGRES_DB=menufic_db
POSTGRES_PORT=5433

# Next Auth
# You can generate the secret via 'openssl rand -base64 32' on Linux
# More info: https://next-auth.js.org/configuration/options#secret
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=YhyJ9GAlRRGg7RaU/xTN0mLShtkYCClDbCRZ0mdM6Jg=

# Next Auth Providers (All OPTIONAL - configure only the ones you want to use)
# Unconfigured providers will automatically be hidden from the login page

# Google Provider (OPTIONAL)
# Leave blank to disable Google authentication
# GOOGLE_CLIENT_ID=""
# GOOGLE_CLIENT_SECRET=""

# GitHub Provider (OPTIONAL)
# Leave blank to disable GitHub authentication
# The callback url must be http://127.0.0.1:3000/api/auth/callback/github
# Adjust protocol, IP and port to your setup
# GITHUB_CLIENT_ID=""
# GITHUB_CLIENT_SECRET=""

# Azure AD Provider (OPTIONAL)
# Leave blank to disable Azure AD SSO
# Register an app in Azure Portal (App registrations)
# The callback url must be http://127.0.0.1:3000/api/auth/callback/azure-ad
# Adjust protocol, IP and port to your setup
# AZURE_AD_CLIENT_ID=""
# AZURE_AD_CLIENT_SECRET=""
# AZURE_AD_TENANT_ID=""

# Image kit
# Please create an account in https://imagekit.io and use the generated keys here
IMAGEKIT_PUBLIC_KEY=
IMAGEKIT_PRIVATE_KEY=
NEXT_PUBLIC_IMAGEKIT_URL_ENDPOINT=https://ik.imagekit.io/xxxx
IMAGEKIT_BASE_FOLDER=menufic-local

##############################################
## Following are the optional env variables ##
##############################################

# Usage limits
NEXT_PUBLIC_MAX_RESTAURANTS_PER_USER=5
NEXT_PUBLIC_MAX_MENUS_PER_RESTAURANT=5
NEXT_PUBLIC_MAX_CATEGORIES_PER_MENU=10
NEXT_PUBLIC_MAX_MENU_ITEMS_PER_CATEGORY=20
NEXT_PUBLIC_MAX_BANNERS_PER_RESTAURANT=5

# For sample menu shown in landing page
NEXT_PUBLIC_SAMPLE_MENU_ID=""

# Contact us form relies on https://web3forms.com
NEXT_PUBLIC_FORM_API_KEY=""

# For contact us and terms & conditions page
NEXT_PUBLIC_CONTACT_EMAIL=bob@gmail.com

# Footer links (Optional - defaults to local pages)
# Set these to external URLs if you want to link to external privacy policy/terms pages
# NEXT_PUBLIC_PRIVACY_POLICY_URL=/privacy-policy
# NEXT_PUBLIC_TERMS_CONDITIONS_URL=/terms-and-conditions

# Sentry
# DSN are safe to keep public
NEXT_PUBLIC_SENTRY_DSN=""
SENTRY_ORG=""
SENTRY_PROJECT=""
SENTRY_AUTH_TOKEN=""

# Playwright tests (Needed when running tests)
# Not needed during development or building the app
TEST_MENUFIC_USER_LOGIN_KEY=a_string_value
TEST_MENUFIC_BASE_URL=http://localhost:3000


# Deployed URL used for redirection purposes
NEXT_PUBLIC_PROD_URL=https://menufic.com

# DeepL Translation API (OPTIONAL but recommended)
# Get your free API key from https://www.deepl.com/pro-api (500k chars/month free)
# Used for:
#   1. Dynamic content translation (menu items, categories) - cached in database
#   2. Static UI translation (buttons, labels) - run 'npm run translate' to generate
#   3. Automatic translation on container startup (if translation files missing)
# If not set, dynamic content won't be translated and static UI will remain in English
DEEPL_API_KEY=

# OpenAI API Key (OPTIONAL)
# Used for AI-powered allergen detection in menu items and menu packs
# Also used for AI-generated food images (DALL-E)
# Get your API key from https://platform.openai.com/api-keys
# If not set, allergen detection and AI image generation will be skipped
OPENAI_API_KEY=

# SMTP Email Configuration (OPTIONAL but required for reservation system emails)
# Used for sending reservation notifications to restaurants
# All fields are optional - if not configured, email features will be disabled
# SMTP_HOST=smtp.gmail.com                    # SMTP server hostname
# SMTP_PORT=587                               # Port: 587 (TLS), 465 (SSL), 25 (unencrypted)
# SMTP_USER=your-email@gmail.com              # SMTP username/email
# SMTP_PASS=your-app-specific-password        # SMTP password (for Gmail, use app-specific password)
# SMTP_FROM=noreply@menufic.com               # From address (defaults to SMTP_USER if not set)
#
# Common SMTP Configurations:
# Gmail: smtp.gmail.com:587 (generate app password at https://myaccount.google.com/apppasswords)
# Office 365: smtp.office365.com:587
# AWS SES: email-smtp.{region}.amazonaws.com:587
# Custom: mail.yourdomain.com:587

# Analytics Configuration (OPTIONAL)
# Number of days to keep detailed page view records before aggregating into daily stats
# Default: 30 days. After this period, detailed records are aggregated and deleted on container startup.
# ANALYTICS_RETENTION_DAYS=30

# Cron Jobs / Scheduled Tasks (OPTIONAL)
# Secret for authenticating cron job requests
# Generate with: openssl rand -base64 32
# Used by /api/cron/cleanup-analytics endpoint (alternative to automatic startup cleanup)
# CRON_SECRET=your-secret-here

# Branding Configuration
# Customize the application name, logo, and URL
NEXT_PUBLIC_APP_NAME=Menufic
NEXT_PUBLIC_APP_URL=https://menufic.com
# Logo path (relative to public folder or absolute URL)
NEXT_PUBLIC_LOGO_PATH=/menufic_logo.svg
